import{d as P,b3 as U,h as i,r as n,w as j,g as q,bf as N,bg as S,c,a as t,e as _,t as e,F as b,j as E,o as r,b as V}from"./index.7d8ab6d7.js";import{E as D}from"./el-select.0c2ad6ec.js";import{E as L}from"./el-skeleton-item.798d7681.js";import{_ as I}from"./hotMusic.ed0f3f70.js";import"./scroll.fb82158d.js";import"./index.4125f332.js";import"./index.3408e9a9.js";const M={class:"content-section menuBar-mv"},R={class:"m-artist"},T={class:"artist-avatar"},$=["src"],z={class:"artist-name"},G={class:"listcover"},H=["src"],J={href:"javascript:;"},K={class:"tags"},O=t("span",null,"\u6807\u7B7E\uFF1A",-1),Q=["title"],W={class:"content-section",style:{"margin-top":"0"}},X={class:"apps-card"},Y=["src"],Z={class:"app-card__subtext"},tt={class:"com-time"},at={class:"usercountlike"},st={class:"pagination"},dt=P({__name:"playlist",setup(et){const u=U(),l=i([]),p=i([]),m=i([]),v=i([]),g=n(),h=n(!0),B=n(!1),C=n(!1),x=n(!1),y=n(1),w=s=>{k(s)};j(()=>u.query.playlistid,()=>{f()}),q(()=>{f(),k()});const f=()=>{N({id:u.query.playlistid}).then(s=>{l.value=s.data.playlist,p.value=s.data.playlist.tags,m.value=s.data.playlist.tracks,h.value=!1})},k=(s=1)=>{S({id:u.query.playlistid,limit:15,offset:(s-1)*15}).then(o=>{v.value=o.data.comments,g.value=o.data.total})};return(s,o)=>{const A=L,F=D;return r(),c("div",M,[t("div",R,[_(A,{rows:5,animated:"",loading:h.value},null,8,["loading"]),t("div",T,[t("img",{src:l.value.coverImgUrl,alt:"",class:"pllist"},null,8,$)]),t("div",z,[t("h2",null,e(l.value.name),1),t("div",G,[t("img",{src:l.value.creator.avatarUrl+"?param=60y60",alt:""},null,8,H),t("a",J,e(l.value.creator.nickname),1)]),t("div",K,[t("ul",null,[O,(r(!0),c(b,null,E(p.value,(a,d)=>(r(),c("li",{key:d},e(a),1))),128))])]),t("p",{title:l.value.description},e(l.value.description),9,Q)])]),_(I,{musicArr:m.value},null,8,["musicArr"]),t("div",W,[t("div",X,[(r(!0),c(b,null,E(v.value,(a,d)=>(r(),c("div",{class:"app-card usercom",key:d},[t("span",null,[t("img",{class:"useravatar",src:a.user.avatarUrl+"?param=32y32",alt:""},null,8,Y),V(" "+e(a.user.nickname),1)]),t("div",Z,e(a.content),1),t("div",tt,[t("span",null,e(a.timeStr),1),t("span",at,e(a.likedCount)+"\u8D5E",1)])]))),128))])]),t("div",st,[_(F,{layout:"prev, pager, next, jumper",small:B.value,background:C.value,currentPage:y.value,"onUpdate:currentPage":o[0]||(o[0]=a=>y.value=a),total:g.value,disabled:x.value,onCurrentChange:w},null,8,["small","background","currentPage","total","disabled"])])])}}});export{dt as default};
